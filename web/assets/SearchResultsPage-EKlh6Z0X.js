import{w as y,r as i,j as e}from"./index-Db3ZcL0d.js";import{B as C,C as k}from"./Breadcrumb-CfjLRAN9.js";import{L as S}from"./Loading-bOGaaT84.js";import{B as t}from"./logo-oca-9_VWylWK.js";import{I as L}from"./input-CZuXjnp2.js";import{c as p,u as _}from"./Private-BLWMsyat.js";import{S as h}from"./search-CgYcGuXX.js";/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],E=p("chevron-left",B);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],D=p("x",R);function H(){const{filters:u,loading:r,onSearch:m,getSearchHistoryEntry:j,onPagination:d}=_(),{id:l}=y(),[n,g]=i.useState(null),[b,f]=i.useState([]),[c,x]=i.useState(""),v=s=>{const o={filter:u.find(a=>a.path==="dni"),value:{dni:s}};m(o,l)},N=s=>{s.key==="Enter"&&(s.preventDefault(),w())},w=()=>{const o=(n!=null&&n.data?[...n.data]:[]).filter(a=>a.dni.indexOf(c)>-1||a.nombre_completo.toLowerCase().indexOf(c.toLowerCase())>-1||a.direccion&&(a==null?void 0:a.direccion.toLowerCase().indexOf(c.toLowerCase()))>-1||a.telefono&&(a==null?void 0:a.telefono.toLowerCase().indexOf(c.toLowerCase()))>-1);f(o)};return i.useEffect(()=>{if(l){const s=j(l);if(s&&s.response){const o=s.response;g(o),f((o==null?void 0:o.data)||[])}}},[l]),e.jsxs("div",{className:"w-screen max-w-[969px] mx-auto h-full flex gap-3 flex-col justify-center items-center p-3 capitalize overflow-hidden",children:[e.jsx(C,{}),e.jsxs("div",{className:"flex flex-row text-2xl",children:[e.jsx("span",{className:"font-medium",children:"Resultado de la busqueda:Â "}),r&&e.jsx(S,{})]}),e.jsxs("div",{className:"flex gap-2 items-center w-full border-1 py-1 px-2 rounded-xl dark:text-[#9EA3B8] bg-gray-100 dark:bg-[#292B38]",children:[e.jsx(h,{}),e.jsx("div",{className:"flex-1 flex flex-col sm:flex-row gap-2",children:e.jsx(L,{className:"border-none focus:border-none outline-none focus:outline-none dark:bg-transparent ring-0 focus-visible:ring-0 focus-visible:ring-offset-0 capitalize",value:c,placeholder:"Buscar",onChange:s=>x(s.target.value),onKeyDown:N,disabled:r})}),e.jsx("div",{className:"flex gap-2",children:c!=""&&e.jsx(t,{size:"sm",variant:"link",onClick:()=>x(""),disabled:r,children:e.jsx(D,{})})})]}),e.jsxs("section",{className:"flex-2 overflow-y-auto w-full flex flex-col gap-2 items-center p-3",children:[e.jsx("div",{className:"w-full flex items-end",children:e.jsx("h2",{className:"font-medium",children:"Personas"})}),b.map(s=>e.jsxs("div",{className:"flex gap-2 justify-between items-center w-full border-b text-sm",children:[e.jsx(h,{className:"text-primary"}),e.jsxs("div",{className:"flex-1 flex flex-col",children:[e.jsx("b",{children:s.nombre_completo}),e.jsxs("p",{className:"text-sm",children:[e.jsx("span",{className:"font-[500]",children:"DNI:"})," ",s.dni]}),s.fecha_nacimiento&&e.jsxs("p",{children:[e.jsx("span",{className:"font-[500]",children:"Fecha de nacimiento:"})," ",s.fecha_nacimiento]}),s.direccion&&e.jsxs("p",{children:[e.jsx("span",{className:"font-[500]",children:"Direccion:"})," ",s.direccion]}),s.telefono&&e.jsxs("p",{children:[e.jsx("span",{className:"font-[500]",children:"Telefono:"})," ",s.telefono]})]}),e.jsx(t,{size:"sm",onClick:()=>v(s.dni),disabled:r,children:"Ver"})]},s.dni))]}),e.jsx("div",{className:"w-full flex justify-end space-x-2 mt-4",children:(n==null?void 0:n.page)&&e.jsxs(e.Fragment,{children:[e.jsx(t,{variant:"outline",disabled:n.page<=1||r,onClick:()=>{l&&d(l,Number(n.page)-1)},children:e.jsx(E,{})}),e.jsx(t,{variant:"outline",children:n.page}),e.jsx(t,{variant:"outline",disabled:!n.has_next_page||r,onClick:()=>{l&&d(l,Number(n.page)+1)},children:e.jsx(k,{})})]})})]})}export{H as default};
