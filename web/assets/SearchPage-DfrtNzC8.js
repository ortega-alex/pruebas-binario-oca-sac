import{r as o,j as e}from"./index-CZgNuQRU.js";import{L as N}from"./Loading-D1lj2jYc.js";import{B as p}from"./logo-oca-B6YVCSBH.js";import{I as v}from"./input-ywZVtRth.js";import{c as x,u as b,d as y}from"./Private-CehIDnb8.js";import{S as j}from"./search-D_dGE13V.js";/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],k=x("circle-check",w);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],B=x("circle",S);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],I=x("send",C);function L(){const{filters:i,ultimateSearch:m,loading:t,onSearch:u}=b(),[d,g]=o.useState(),[l,f]=o.useState({}),h=(s,a={})=>{g(s),Object.keys(a).length===0&&(a=s.label.split("/").reduce((r,n)=>(r[n]="",r),{})),f({filter:s,value:a})};return o.useEffect(()=>{i.length>0&&h(i[0])},[]),e.jsxs("div",{className:"w-screen  mx-auto h-full flex gap-3 flex-col md:flex-row justify-center items-center px-3",children:[e.jsxs("section",{className:"flex gap-1 flex-col items-center",children:[e.jsx("div",{className:"w-full flex items-end",children:e.jsx("h2",{className:"font-medium",children:"Filtros de Busquedas"})}),i.map(s=>e.jsxs("button",{className:"flex w-full gap-2 p-1  items-center border-b-1 rounded-md px-5",onClick:()=>h(s),disabled:t,children:[(d==null?void 0:d.path)===s.path?e.jsx(k,{className:"text-primary",size:16}):e.jsx(B,{className:"text-gray-400",size:16}),e.jsx("label",{className:"text-xs",children:s.label})]},s.path))]}),e.jsxs("section",{className:"flex-1 max-w-[969px] flex flex-col gap-2 items-center",children:[e.jsx("h1",{className:"text-3xl font-semibold",children:"Buscador OCA"}),t&&e.jsx(N,{}),e.jsxs("div",{className:"flex gap-2 items-center w-full border-1 py-1 px-2 rounded-xl dark:text-[#9EA3B8] bg-gray-100 dark:bg-[#292B38]",children:[e.jsx("div",{children:e.jsx(j,{})}),e.jsx("div",{className:"flex-1 flex flex-col sm:flex-row gap-2",children:l.value&&Object.keys(l.value).map(s=>{var a;return e.jsx(v,{className:"border-none focus:border-none outline-none focus:outline-none dark:bg-transparent ring-0 focus-visible:ring-0 focus-visible:ring-offset-0",value:(a=l==null?void 0:l.value)==null?void 0:a[s],placeholder:`Buscar por ${s}`,onChange:c=>f({...l,value:{...l.value,[s]:c.target.value}}),disabled:t},s)})}),e.jsx(p,{size:"sm",onClick:()=>u(l),disabled:t,children:e.jsx(I,{})})]}),e.jsxs("div",{className:`w-full flex flex-col gap-2 items-center ${m.length>0?"":"hidden"}`,children:[e.jsx("div",{className:"w-full flex items-end",children:e.jsx("h2",{className:"font-medium",children:"Ultimas Busquedas"})}),e.jsx("div",{className:"h-[200px] md:overflow-y-auto w-full flex flex-col gap-1",children:m.sort((s,a)=>s.date<a.date?1:s.date>a.date?-1:0).map((s,a)=>{var c;return e.jsxs("div",{className:"flex gap-2 justify-between items-center w-full",children:[e.jsx(p,{size:"sm",onClick:()=>u(s.searchInput),children:e.jsx(j,{})}),e.jsxs("div",{className:"flex-1 flex gap-1 items-center text-sm",children:[e.jsxs("span",{className:"font-medium",children:[(c=s.searchInput.filter)==null?void 0:c.label,":"]}),s.searchInput.value&&Object.keys(s.searchInput.value).map(r=>{var n;return e.jsx("div",{children:e.jsx("span",{children:(n=s.searchInput.value)==null?void 0:n[r]})},r)})]}),e.jsx("span",{className:"text-gray-400 text-sm",children:y(void 0,s.date)})]},a)})})]})]})]})}export{L as default};
