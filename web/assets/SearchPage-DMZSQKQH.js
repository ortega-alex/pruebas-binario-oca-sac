import{r as i,j as e}from"./index-Db3ZcL0d.js";import{L as v}from"./Loading-bOGaaT84.js";import{B as u}from"./logo-oca-9_VWylWK.js";import{I as b}from"./input-CZuXjnp2.js";import{c as d,u as k,d as w}from"./Private-BLWMsyat.js";import{S as j}from"./search-CgYcGuXX.js";/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],z=d("circle-check",S);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],C=d("circle",I);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],_=d("send",B);/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $=[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]],F=d("sliders-horizontal",$);function D(){const{filters:x,ultimateSearch:h,loading:c,onSearch:g}=k(),[o,N]=i.useState(),[f,p]=i.useState(!1),[a,y]=i.useState({}),m=(s,l={})=>{N(s),Object.keys(l).length===0&&(l=s.label.split("/").reduce((n,r)=>(n[r]="",n),{})),y({filter:s,value:l}),p(!1)};return i.useEffect(()=>{x.length>0&&m(x[0])},[]),e.jsxs("div",{className:"w-screen max-w-[969px] mx-auto h-full flex gap-3 flex-col justify-center items-center px-3",children:[e.jsxs("section",{className:"w-full flex flex-col gap-2 items-center",children:[e.jsx("h1",{className:"text-3xl font-semibold",children:"Buscador OCA"}),c&&e.jsx(v,{}),e.jsxs("div",{className:"flex gap-2 items-center w-full border-1 py-1 px-2 rounded-xl dark:text-[#9EA3B8] bg-gray-100 dark:bg-[#292B38]",children:[e.jsx("div",{children:e.jsx(j,{})}),e.jsx("div",{className:"flex-1 flex flex-col sm:flex-row gap-2",children:a.value&&Object.keys(a.value).map(s=>{var l;return e.jsx(b,{className:"border-none focus:border-none outline-none focus:outline-none dark:bg-transparent ring-0 focus-visible:ring-0 focus-visible:ring-offset-0 capitalize",value:(l=a==null?void 0:a.value)==null?void 0:l[s],placeholder:`Buscar por ${s}`,onChange:t=>y({...a,value:{...a.value,[s]:t.target.value}}),disabled:c},s)})}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(u,{size:"sm",onClick:()=>p(!f),disabled:c,children:e.jsx(F,{})}),e.jsx(u,{size:"sm",onClick:()=>g(a),disabled:c,children:e.jsx(_,{})})]})]})]}),e.jsxs("section",{className:`w-full flex gap-1 flex-col items-center ${f?"":"hidden"}`,children:[e.jsx("div",{className:"w-full flex items-end",children:e.jsx("h2",{className:"font-medium",children:"Filtros de Busquedas"})}),x.map(s=>e.jsxs("button",{className:"flex w-full gap-2 p-1  items-center border-1 rounded-md px-5",onClick:()=>m(s),disabled:c,children:[(o==null?void 0:o.path)===s.path?e.jsx(z,{className:"text-primary",size:16}):e.jsx(C,{className:"text-gray-400",size:16}),e.jsx("label",{className:"text-xs",children:s.label})]},s.path))]}),e.jsxs("section",{className:`w-full flex flex-col gap-2 items-center ${h.length>0?"":"hidden"}`,children:[e.jsx("div",{className:"w-full flex items-end",children:e.jsx("h2",{className:"font-medium",children:"Ultimas Busquedas"})}),h.sort((s,l)=>s.date<l.date?1:s.date>l.date?-1:0).map((s,l)=>{var t;return e.jsxs("div",{className:"flex gap-2 justify-between items-center w-full",children:[e.jsx(u,{size:"sm",onClick:()=>{s.searchInput.filter&&m(s.searchInput.filter,s.searchInput.value)},children:e.jsx(j,{})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("span",{className:"font-medium text-sm",children:(t=s.searchInput.filter)==null?void 0:t.label}),e.jsx("div",{className:"flex flex-row gap-3",children:s.searchInput.value&&Object.keys(s.searchInput.value).map(n=>{var r;return e.jsx("div",{children:e.jsx("span",{className:"text-sm",children:(r=s.searchInput.value)==null?void 0:r[n]})},n)})})]}),e.jsx("span",{className:"text-gray-400 text-sm",children:w(void 0,s.date)})]},l)})]})]})}export{D as default};
