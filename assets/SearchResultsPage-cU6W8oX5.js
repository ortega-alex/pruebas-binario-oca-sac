import{x as w,r as t,j as e}from"./index-DCybvgWj.js";import{B as S,P as y}from"./Pagination-BZ_Tr4zv.js";import{L as k}from"./Loading-CS8G4Yjc.js";import{B as x}from"./logo-oca-KG9KfPz6.js";import{I as D}from"./input-DwjVl-vA.js";import{c as C,u as L,f as Y}from"./Private-NoDjZb0m.js";import{S as p}from"./search-BD3uQcmn.js";/**
 * @license lucide-react v0.513.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],E=C("x",B);function F(){const{filters:u,loading:c,onSearch:m,getSearchHistoryEntry:h,onPagination:i}=L(),{id:o}=w(),[n,j]=t.useState(null),[N,d]=t.useState([]),[r,f]=t.useState(""),g=s=>{const l={filter:u.find(a=>a.path==="dpi"),value:{dpi:s}};m(l,o)},b=s=>{s.key==="Enter"&&(s.preventDefault(),v())},v=()=>{const l=(n!=null&&n.data?[...n.data]:[]).filter(a=>a.dpi.indexOf(r)>-1||a.nombre_completo.toLowerCase().indexOf(r.toLowerCase())>-1||a.direccion&&(a==null?void 0:a.direccion.toLowerCase().indexOf(r.toLowerCase()))>-1||a.telefono&&(a==null?void 0:a.telefono.toLowerCase().indexOf(r.toLowerCase()))>-1);d(l)};return t.useEffect(()=>{if(o){const s=h(o);if(s&&s.response){const l=s.response;j(l),d((l==null?void 0:l.data)||[])}}},[o]),e.jsxs("div",{className:"w-screen max-w-[969px] mx-auto h-full flex gap-3 flex-col justify-center items-center p-3 capitalize overflow-hidden",children:[e.jsx(S,{}),e.jsxs("div",{className:"flex flex-row text-2xl",children:[e.jsx("span",{className:"font-medium",children:"Resultado de la busqueda:Â "}),c&&e.jsx(k,{})]}),e.jsxs("div",{className:"flex gap-2 items-center w-full border-1 py-1 px-2 rounded-xl dark:text-[#9EA3B8] bg-gray-100 dark:bg-[#292B38]",children:[e.jsx(p,{}),e.jsx("div",{className:"flex-1 flex flex-col sm:flex-row gap-2",children:e.jsx(D,{className:"border-none focus:border-none outline-none focus:outline-none dark:bg-transparent ring-0 focus-visible:ring-0 focus-visible:ring-offset-0 capitalize",value:r,placeholder:"Buscar",onChange:s=>f(s.target.value),onKeyDown:b,disabled:c})}),e.jsx("div",{className:"flex gap-2",children:r!=""&&e.jsx(x,{size:"sm",variant:"link",onClick:()=>f(""),disabled:c,children:e.jsx(E,{})})})]}),e.jsxs("section",{className:"flex-2 overflow-y-auto w-full flex flex-col gap-2 items-center p-3",children:[e.jsx("div",{className:"w-full flex items-end",children:e.jsx("h2",{className:"font-medium",children:"Personas"})}),N.map(s=>e.jsxs("div",{className:"flex gap-2 justify-between items-center w-full border-b text-sm",children:[e.jsx(x,{size:"sm",onClick:()=>g(s.dpi),disabled:c,children:e.jsx(p,{})}),e.jsxs("div",{className:"flex-1 flex flex-col",children:[e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("p",{className:"text-sm",children:[e.jsx("span",{className:"font-[500]",children:"Nombre:"})," ",s.nombre_completo]}),e.jsxs("p",{className:"text-sm",children:[e.jsx("span",{className:"font-[500]",children:"DPI:"})," ",s.dpi]}),s.fecha_nacimiento&&e.jsxs("p",{children:[e.jsx("span",{className:"font-[500] mr-1",children:"Fecha de nacimiento:"}),Y(s.fecha_nacimiento,"YYYY-MM-DD","DD/MM/YYYY")]})]}),e.jsxs("div",{className:"flex gap-3",children:[s.direccion&&e.jsxs("p",{children:[e.jsx("span",{className:"font-[500]",children:"Direccion:"})," ",s.direccion]}),s.telefono&&e.jsxs("p",{children:[e.jsx("span",{className:"font-[500]",children:"Telefono:"})," ",s.telefono]})]})]})]},s.dpi))]}),(n==null?void 0:n.page)&&e.jsx(y,{responsePagination:n,loading:c,onPrevious:()=>{o&&i(o,Number(n.page)-1)},onNext:()=>{o&&i(o,Number(n.page)+1)}})]})}export{F as default};
